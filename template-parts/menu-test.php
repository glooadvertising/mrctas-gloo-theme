<?php 
    // Mega menu

    $megaMenu = array(
        array(
            'group_title' => 'Our services',
            'slug' => 'our-services',
            'pages' => array(
                array(
                    'page_title' => 'Settlement',
                    'short_title' => 'Settlement',
                    'slug' => 'settlement',
                    'anchor_links' => array(
                        array(
                            'anchor_title' => 'Case management',
                            'slug' => 'individual-case-management',
                            'page_slug' => null,
                        ),
                        array(
                            'anchor_title' => 'Employment',
                            'slug' => null,
                            'page_slug' => 'employment-assistance',
                        ),
                        array(
                            'anchor_title' => 'Learn to drive',
                            'slug' => null,
                            'page_slug' => 'learn-to-drive-program',
                        ),
                        array(
                            'anchor_title' => 'Learn English',
                            'slug' => null,
                            'page_slug' => 'learn-english',
                        ),
                        array(
                            'anchor_title' => 'Citizenship',
                            'slug' => null,
                            'page_slug' => 'citizenship',
                        ),
                    ),
                ),
                array(
                    'page_title' => 'Cultural training',
                    'short_title' => null,
                    'slug' => 'training',
                    'anchor_links' => array(
                        array(
                            'anchor_title' => 'General Training Sessions',
                            'slug' => 'general-training-sessions',
                        ),
                        array(
                            'anchor_title' => 'Specialist mental health training',
                            'slug' => 'specialist-mental-health-training',
                        ),
                        array(
                            'anchor_title' => 'Youth training',
                            'slug' => 'working-with-cald-youth',
                        ),
                    ),
                ),
                array(
                    'page_title' => 'Mental health: Phoenix Centre',
                    'short_title' => 'Phoenix Centre',
                    'slug' => 'phoenix-centre',
                    'anchor_links' => array(
                        array(
                            'anchor_title' => 'Counselling',
                            'slug' => 'counselling',
                        ),
                        array(
                            'anchor_title' => 'Support groups',
                            'slug' => 'amplify-ability',
                        ),
                        array(
                            'anchor_title' => 'Early Intervention Program',
                            'slug' => 'eip',
                        ),
                        array(
                            'anchor_title' => 'TTMHN',
                            'slug' => 'ttmhn',
                        ),
                        array(
                            'anchor_title' => 'Resources',
                            'slug' => 'referral-forms',
                        ),
                    ),
                ),
                array(
                    'page_title' => 'Accommodation',
                    'short_title' => 'Accommodation',
                    'slug' => 'accommodation',
                    'anchor_links' => array(
                        array(
                            'anchor_title' => 'Our approach',
                            'slug' => 'our-approach',
                        ),
                        array(
                            'anchor_title' => 'Our accommodation',
                            'slug' => 'our-accommodation',
                        ),
                        array(
                            'anchor_title' => 'Multicultural Accomodation Centre',
                            'slug' => 'multicultural-accommodation-centre',
                        ),
                        array(
                            'anchor_title' => 'Home Stay program',
                            'slug' => 'home-stay-program',
                        )
                    )
                ),
                array (
                    'page_title' => 'Humanitarian Settlement Program',
                    'short_title' => 'hsp',
                    'slug' => 'humanitarian-settlement-program-hsp',
                    'anchor_links' => array(
                        array(
                            'anchor_title' => 'Volunteering',
                            'slug' => 'volunteering',
                        ),
                        array(
                            'anchor_title' => 'Other ways to assist new arrivals',
                            'slug' => 'other-ways-to-assist-new-arrivals',
                        ),
                    )
                ),
                array(
                    'page_title' => 'Youth Services',
                    'short_title' => 'Youth Services',
                    'slug' => 'multicultural-youth-tasmania',
                    'anchor_links' => array(
                        array(
                            'anchor_title' => 'About MYT',
                            'slug' => 'about-myt',
                        ),
                        array(
                            'anchor_title' => 'Sector development',
                            'slug' => 'sector-development',
                        ),
                        array(
                            'anchor_title' => 'Programs',
                            'slug' => 'programs',
                        ),
                        array(
                            'anchor_title' => 'Case management services',
                            'slug' => 'cms',
                        ),
                        array(
                            'anchor_title' => 'Youth Advisory Group',
                            'slug' => 'yag',
                        ),
                        array(
                            'anchor_title' => 'Resources',
                            'slug' => 'contact-us',
                        ),
                    ),
                ),
                array(
                    'page_title' => 'Aged and community services',
                    'short_title' => null,
                    'slug'	=> 'aged-and-community-services',
                    'anchor_links' => array(
                        array(
                            'anchor_title' => 'Our services',
                            'slug' => 'our-services',
                        ),
                        array(
                            'anchor_title' => 'Home care packages',
                            'slug' => 'home-care-packages',
                        ),
                        array (
                            'anchor_title' => 'Tasmanian Home and Community Care (HACC)',
                            'slug' => 'thaccp',
                        ),
                        array(
                            'anchor_title' => 'Commonwealth Home Support Program (CHSP)',
                            'slug' => 'chsp',
                        ),
                        array(
                            'anchor_title' => 'Resources',
                            'slug' => 'service-providers',
                        )
                    )
                ),
                array(
                    'page_title' => 'Programs',
                    'short_title' => 'Programs',
                    'slug' => 'programs',
                    'anchor_links' => array(
                        array(
                            'anchor_title' => 'Current programs',
                            'slug' => 'current-programs',
                        ),
                        array(
                            'anchor_title' => 'Past programs',
                            'slug' => 'past-programs',
                        )
                    ),
                ),
            ),
        ),
        array(
            'group_title' => 'Get involved',
            'slug' => 'get-involved',
            'pages' => array(
                array(
                    'page_title' => 'Donate',
                    'short_title' => null,
                    'slug' => 'donate',
                    'anchor_links' => [],
                ),
                array(
                    'page_title' => 'Volunteer',
                    'short_title' => null,
                    'slug' => 'volunteer',
                    'anchor_links' => array(
                        array(
                            'anchor_title' => 'Meet Simon',
                            'slug' => 'meet-simon',
                        ),
                        array(
                            'anchor_title' => 'Meet Kirsten',
                            'slug' => 'meet-kirsten',
                        ),
                        array(
                            'anchor_title' => 'FAQs',
                            'slug' => 'faqs',
                        ),
                        array(
                            'anchor_title' => 'Our commitment to the safety of Children and Young People',
                            'slug' => 'our-commitment-to-the-safety-of-children-and-young-people',
                        ),
                    ),
                ),
                array(
                    'page_title' => 'Partnerships and collaborations',
                    'short_title' => null,
                    'slug' => 'partnerships-and-collaborations',
                    'anchor_links' => [],
                ),
                array(
                    'page_title' => 'Careers',
                    'short_title' => null,
                    'slug' => 'careers',
                    'anchor_links' => [],
                ),
            ),
        ),
        array(
            'group_title' => 'About us',
            'slug' => 'about-us',
            'pages' => array(
                array(
                    'page_title' => 'About us',
                    'short_title' => null,
                    'slug' => 'about-us',
                    'anchor_links' => [],
                ),
                array(
                    'page_title' => 'Our board',
                    'short_title' => null,
                    'slug' => 'our-board',
                    'anchor_links' => array(
                        array(
                            'anchor_title' => 'Peter Gutwein',
                            'slug' => 'peter-gutwein',
                        ),
                        array(
                            'anchor_title' => 'George Elkhair',
                            'slug' => 'george-elkhair',
                        ),
                        array(
                            'anchor_title' => 'Fahim Chowdhury',
                            'slug' => 'fahim-chowdhury',
                        ),
                        array(
                            'anchor_title' => 'Daniela Ruiz',
                            'slug' => 'daniela-ruiz',
                        ),
                        array(
                            'anchor_title' => 'Dr Tania Lado Insua',
                            'slug' => 'dr-tania-lado-insua',
                        ),
                        array(
                            'anchor_title' => 'Victor Stojcevski',
                            'slug' => 'victor-stojcevski',
                        ),
                        array(
                            'anchor_title' => 'Fiona Le Gassick',
                            'slug' => 'fiona-le-gassick',
                        ),
                    ),
                ),
                array(
                    'page_title' => 'Publications',
                    'short_title' => null,
                    'slug' => 'Publications',
                    'anchor_links' => array(
                        array(
                            'anchor_title' => 'Annual reports',
                            'slug' => 'annual-reports',
                        ),
                        array(
                            'anchor_title' => 'Financial statements',
                            'slug' => 'financial-statement',
                        ),
                    ),
                ),
                
            )
        ),
    );

?>

<?php $groups = $megaMenu;?>               
<?php foreach ( $groups as $group) { ?>
<li class="group flex items-center cursor-pointer"> 
    <a class="menu-link flex z-10"><?php echo $group['group_title'];?></a>
    <section class="bg-white text-mrct-navy-light w-full absolute left-0 top-0 p-24 pt-[200px] hidden group-hover:grid grid-cols-4 gap-24 shadow-lg z-0">
        <?php $pages = $group['pages'];?>
        <?php foreach($pages as $page) {?>
        <div class="col-01 col-span-1 flex flex-col gap-6">
            <h3 class="font-extrabold"><a href="<?php echo site_url('/') . $page['slug'];?>"><?php echo $page['page_title'];?></a></h3>
            <ul class="gap-2 flex flex-col">
                <?php $anchors = $page['anchor_links'];?>
                <?php foreach($anchors as $anchor){?>
                    <!-- <?php $slug = $page['slug'] . '/#' . $anchor['slug'];?> -->
                    <?php $anchor['slug'] != null ? $slug = $page['slug'] . '/#' . $anchor['slug'] : $slug = $anchor['page_slug'];?>
                    <li><a href="<?php echo site_url($slug);?>"><?php echo $anchor['anchor_title'];?></a></li>
                <?php }?>
            </ul>
        </div>
        <?php }?>
    </section>
</li>
<?php }?>

<?php 
    $getSupport = array(
        array(
            'group_title' => 'Get support',
            'slug' => 'get-support',
            'pages' => array(
                array(
                    'page_title' => 'Employment',
                    'short_title' => 'Employment',
                    'slug' => 'employment-assistance',
                    'anchor_links' => [],
                ),
                array(
                    'page_title' => 'Learn to drive',
                    'short_title' => 'Learn to drive',
                    'slug' => 'learn-to-drive',
                    'anchor_links' => [],
                ),
                array(
                    'page_title' => 'Learn English',
                    'short_title' => 'Learn English',
                    'slug' => 'learn-english',
                    'anchor_links' => [],
                ),
                array(
                    'page_title' => 'Young People',
                    'short_title' => 'Young People',
                    'slug' => 'multicultural-youth-tasmania',
                    'anchor_links' => [],
                ),
                array(
                    'page_title' => 'Aged Care',
                    'short_title' => 'Aged Care',
                    'slug' => 'aged-and-community-services',
                    'anchor_links' => [],
                ),
                array(
                    'page_title' => 'Accommodation',
                    'short_title' => 'Accommodation',
                    'slug' => 'accommodation',
                    'anchor_links' => [],
                ),
                array(
                    'page_title' => 'Mental health and counselling',
                    'short_title' => 'Mental health and counselling',
                    'slug' => 'phoenix-centre',
                    'anchor_links' => [],
                ),
                array(
                    'page_title' => 'Citizenship',
                    'short_title' => 'Citizenship',
                    'slug' => 'citizenship',
                    'anchor_links' => [],
                ),
                array(
                    'page_title' => 'Resources',
                    'short_title' => 'Resources',
                    'slug' => 'resources',
                    'anchor_links' => [],
                ),

            ),
        ),
    )

?>
<?php $groups = $getSupport;?>               
<?php foreach ( $groups as $group) { ?>
<li class="group flex items-center cursor-pointer"> 
    <a class="menu-link flex z-10"><?php echo $group['group_title'];?></a>
    <section class="special-gradient text-white w-full absolute left-0 top-0 p-24 pt-[200px] hidden group-hover:grid grid-cols-6 gap-24 shadow-lg z-0">
        <p class="grid text-3xl font-bold col-span-3">If you are a migrant or refugee looking for support, we are here to help.</p>
        <?php $pages = $group['pages'];?>
        <div class="col-span-3 grid grid-cols-3 gap-4 gap-x-12">
            <?php foreach($pages as $page) {?>
            <a href="<?php echo $page['slug'];?>"><?php echo $page['page_title'];?></a>
            <?php }?>
        </div>
    </section>
</li>
<?php }?>
